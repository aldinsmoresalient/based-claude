# Claude Code Instructions

This project uses the **Claude Code Starter SDK** memory layer.

## On Session Start

1. **Read `.claude-sdk/ATLAS.md`** to orient yourself to the codebase
2. **Check `.claude-sdk/memory/TASKS.md`** for any in-progress work
3. **Review `.claude-sdk/CONTRACT.md`** for permissions and constraints

## Before Modifying Code

1. **Check `.claude-sdk/memory/INVARIANTS.md`** for safety constraints
2. Respect all `INVARIANT:` and `PROTECTED:` entries
3. If touching a protected path, mention it explicitly

## During Work

### Task Tracking
- When starting a task, update `TASKS.md`:
  - Set STATUS to `in_progress`
  - Add files to `FILES_TOUCHED`
  - Update `PROGRESS` checkboxes
- When completing a task, set STATUS to `completed`
- For multi-session work, add a `SESSION:` log entry

### Decision Recording
- When making architectural decisions, add an ADR to `DECISIONS.md`
- Use the format: `ADR-XXX: [Title]` with STATUS, CONTEXT, DECISION

### Atlas Maintenance
- After adding new folders/files, note that atlas may need refresh
- Mention "Atlas may need update" if structure changed significantly

## Permissions (from CONTRACT.md)

Autonomous (no confirmation needed):
- Read any file
- Run tests and linters
- Edit files for requested changes

Requires confirmation:
- Deleting files
- Modifying configuration
- Anything in PROTECTED paths

Prohibited:
- Direct commits to main
- Modifying .env or secrets
- Actions violating INVARIANTS.md

## Available Skills

Use these skills when relevant:
- **spec-generator**: Create specs/PRDs before implementation
- **code-review**: Risk-aware code review
- **debugging-playbook**: Systematic bug investigation
- **repo-atlas**: Build/refresh codebase atlas
- **search-helper**: Grep-based code navigation

## Available Subagents

- **planner**: For task decomposition and planning
- **reviewer**: For strict code review
- **indexer**: For atlas maintenance

## Quick Reference

```
.claude-sdk/
├── ATLAS.md              # READ FIRST - codebase overview
├── CONTRACT.md           # Your permissions
├── atlas/                # Per-folder details
└── memory/
    ├── DECISIONS.md      # Record decisions here
    ├── INVARIANTS.md     # CHECK BEFORE EDITS
    └── TASKS.md          # Track work here
```
